<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ISE Mentor - Assistant de Révision</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <!-- En-tête -->
        <header>
            <div class="header-content">
                <h1><i class="fas fa-graduation-cap"></i> ISE Mentor</h1>
                <p class="subtitle">Ton assistant intelligent de révision - Ingénieur Statisticien Économiste</p>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="steps">
            <div class="step active" data-step="1">
                <span class="step-number">1</span>
                <span class="step-text">Emploi du temps</span>
            </div>
            <div class="step" data-step="2">
                <span class="step-number">2</span>
                <span class="step-text">Examens</span>
            </div>
            <div class="step" data-step="3">
                <span class="step-number">3</span>
                <span class="step-text">Difficultés</span>
            </div>
            <div class="step" data-step="4">
                <span class="step-number">4</span>
                <span class="step-text">Planning</span>
            </div>
        </nav>

        <!-- Contenu principal -->
        <main>
            <!-- Étape 1: Emploi du temps -->
            <section id="step-1" class="step-content active">
                <h2><i class="fas fa-calendar-alt"></i> Ton emploi du temps de la semaine</h2>
                <p class="instruction">Renseigne tes cours, travaux dirigés et jours de repos.</p>
                
                <div class="week-schedule">
                    <!-- Généré dynamiquement par JavaScript -->
                </div>
                
                <div class="controls">
                    <button class="btn btn-secondary" onclick="addFreeSlot()">
                        <i class="fas fa-plus"></i> Ajouter un créneau libre
                    </button>
                    <button class="btn btn-primary" onclick="nextStep(2)">
                        Suivant <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </section>

            <!-- Étape 2: Examens -->
            <section id="step-2" class="step-content">
                <h2><i class="fas fa-exclamation-triangle"></i> Examens et travaux à rendre</h2>
                <p class="instruction">Ajoute tes examens, compositions et rendus de projet.</p>
                
                <div class="exams-list">
                    <div class="exam-item">
                        <input type="text" class="exam-matiere" placeholder="Matière (ex: Algèbre)" value="Algèbre">
                        <input type="date" class="exam-date" value="2024-03-15">
                        <select class="exam-type">
                            <option value="examen">Examen</option>
                            <option value="compo" selected>Composition</option>
                            <option value="projet">Projet à rendre</option>
                            <option value="oral">Oral</option>
                        </select>
                        <select class="exam-coeff">
                            <option value="1">Coeff 1</option>
                            <option value="1.5" selected>Coeff 1.5</option>
                            <option value="2">Coeff 2</option>
                            <option value="3">Coeff 3</option>
                        </select>
                        <button class="btn-remove" onclick="removeExam(this)"><i class="fas fa-times"></i></button>
                    </div>
                </div>
                
                <div class="controls">
                    <button class="btn btn-secondary" onclick="addExam()">
                        <i class="fas fa-plus"></i> Ajouter un examen
                    </button>
                    <button class="btn btn-secondary" onclick="prevStep(1)">
                        <i class="fas fa-arrow-left"></i> Retour
                    </button>
                    <button class="btn btn-primary" onclick="nextStep(3)">
                        Suivant <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </section>

            <!-- Étape 3: Difficultés -->
            <section id="step-3" class="step-content">
                <h2><i class="fas fa-brain"></i> Tes difficultés par matière</h2>
                <p class="instruction">Évalue chaque matière de 1 (très facile) à 10 (très difficile).</p>
                
                <div class="difficulties-container">
                    <!-- Généré dynamiquement par JavaScript -->
                </div>
                
                <div class="priorities">
                    <h3><i class="fas fa-flag"></i> Priorités personnelles</h3>
                    <p>Quelles matières doivent être absolument validées ?</p>
                    <div class="priorities-list">
                        <!-- Généré dynamiquement -->
                    </div>
                </div>
                
                <div class="constraints">
                    <h3><i class="fas fa-cogs"></i> Tes contraintes</h3>
                    <div class="constraint-item">
                        <label>Heures max de révision par jour :</label>
                        <input type="range" id="max-hours" min="1" max="8" value="4">
                        <span id="max-hours-value">4h</span>
                    </div>
                </div>
                
                <div class="controls">
                    <button class="btn btn-secondary" onclick="prevStep(2)">
                        <i class="fas fa-arrow-left"></i> Retour
                    </button>
                    <button class="btn btn-primary" onclick="generatePlanning()">
                        Générer mon planning <i class="fas fa-magic"></i>
                    </button>
                </div>
            </section>

            <!-- Étape 4: Planning -->
            <section id="step-4" class="step-content">
                <h2><i class="fas fa-calendar-check"></i> Ton planning de révision</h2>
                
                <div class="planning-header">
                    <div class="charge-indicator">
                        <div class="charge-label">
                            <span>Charge cognitive :</span>
                            <span id="charge-level" class="charge-moderate">MODÉRÉE (72%)</span>
                        </div>
                        <div class="charge-bar">
                            <div class="charge-fill" style="width: 72%"></div>
                        </div>
                    </div>
                    
                    <div class="alerts">
                        <h3><i class="fas fa-bell"></i> Alertes importantes</h3>
                        <div id="alerts-container">
                            <!-- Alertes dynamiques -->
                        </div>
                    </div>
                </div>
                
                <div class="planning-container">
                    <!-- Planning généré dynamiquement -->
                </div>
                
                <div class="stats-container">
                    <h3><i class="fas fa-chart-bar"></i> Statistiques de la semaine</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value" id="total-hours">18h</div>
                            <div class="stat-label">Total révision</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="priority-matiere">Algèbre</div>
                            <div class="stat-label">Matière prioritaire</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="critical-days">Jeudi</div>
                            <div class="stat-label">Jours critiques</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="risk-level">MODÉRÉ</div>
                            <div class="stat-label">Risque burn-out</div>
                        </div>
                    </div>
                </div>
                
                <div class="export-options">
                    <h3><i class="fas fa-download"></i> Exporter</h3>
                    <div class="export-buttons">
                        <button class="btn btn-export" onclick="exportToCalendar()">
                            <i class="fas fa-calendar-plus"></i> Google Calendar
                        </button>
                        <button class="btn btn-export" onclick="exportToPDF()">
                            <i class="fas fa-file-pdf"></i> PDF
                        </button>
                        <button class="btn btn-secondary" onclick="regeneratePlanning()">
                            <i class="fas fa-redo"></i> Régénérer
                        </button>
                        <button class="btn btn-primary" onclick="startOver()">
                            <i class="fas fa-home"></i> Nouveau planning
                        </button>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer>
            <p>ISE Mentor - Assistant de révision intelligent pour Ingénieur Statisticien Économiste</p>
            <p class="footer-note">Cet outil tient compte de tes cours, repos, examens, difficultés et priorités personnelles.</p>
        </footer>
    </div>

    <!-- Modal pour ajouter un créneau libre -->
    <div id="freeSlotModal" class="modal">
        <div class="modal-content">
            <h3><i class="fas fa-clock"></i> Ajouter un créneau libre</h3>
            <div class="modal-form">
                <label>Jour :</label>
                <select id="modal-day">
                    <option value="lundi">Lundi</option>
                    <option value="mardi">Mardi</option>
                    <option value="mercredi">Mercredi</option>
                    <option value="jeudi">Jeudi</option>
                    <option value="vendredi">Vendredi</option>
                    <option value="samedi">Samedi</option>
                    <option value="dimanche">Dimanche</option>
                </select>
                
                <label>Heure de début :</label>
                <input type="time" id="modal-start" value="18:00">
                
                <label>Heure de fin :</label>
                <input type="time" id="modal-end" value="20:00">
                
                <div class="modal-buttons">
                    <button class="btn btn-secondary" onclick="closeModal()">Annuler</button>
                    <button class="btn btn-primary" onclick="saveFreeSlot()">Ajouter</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
